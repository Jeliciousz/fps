[gd_scene load_steps=11 format=4 uid="uid://cn808y3swtcaf"]

[ext_resource type="PackedScene" uid="uid://ci1w3nu04vyw8" path="res://scenes/player.tscn" id="1_x4b8f"]
[ext_resource type="Texture2D" uid="uid://ca7wuacwmj2tf" path="res://assets/hdri/kloofendal_48d_partly_cloudy_puresky_4k.exr" id="2_tmr53"]
[ext_resource type="LightmapGIData" uid="uid://bhhsuoeir7vgm" path="res://scenes/test_level.lmbake" id="3_qcd3b"]
[ext_resource type="Texture2D" uid="uid://cgynjgir2ykrx" path="res://assets/textures/kenney_prototype_textures/dark/texture_09.png" id="4_88ety"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_71j4m"]
panorama = ExtResource("2_tmr53")

[sub_resource type="Sky" id="Sky_4wyf3"]
sky_material = SubResource("PanoramaSkyMaterial_71j4m")

[sub_resource type="Environment" id="Environment_k0juu"]
background_mode = 2
sky = SubResource("Sky_4wyf3")
ambient_light_source = 3
ambient_light_color = Color(0.477727, 0.70786, 0.999999, 1)
reflected_light_source = 2
tonemap_mode = 4
ssao_intensity = 5.0
volumetric_fog_density = 0.01
volumetric_fog_albedo = Color(0.300667, 0.2788, 0.41, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k0juu"]
albedo_texture = ExtResource("4_88ety")
uv1_triplanar = true
uv1_triplanar_sharpness = 6.0
uv1_world_triplanar = true
texture_filter = 5

[sub_resource type="ArrayMesh" id="ArrayMesh_4wyf3"]
lightmap_size_hint = Vector2i(1106, 2010)
_surfaces = [{
"aabb": AABB(-25, -0.5, -25, 50, 1, 50),
"attribute_data": PackedByteArray("AACAPwAAgD9f4n8/YUoMPwAAgD8AAAAAX+J/P83MTD0AAAAAAAAAAAUGez/NzEw9AACAPwAAgD9p1fs7HnIAPwAAgD8AAAAA5alpPx5yAD8AAAAAAAAAAOWpaT+z738/AACAPwAAgD9BVHo/vV0QPwAAgD8AAAAA5nd1P71dED8AAAAAAAAAAOZ3dT9GAYc9AAAAAAAAgD8FBns/YUoMPwAAgD8AAIA/yOlvP/qSGz8AAIA/AAAAACLGdD/6khs/AAAAAAAAAAAixnQ/LavgPQAAAAAAAAAA289nP8Qb/z4AAAAAAACAPxgF7TnEG/8+AACAPwAAgD8YBe05f2uCOQAAAAAAAIA/adX7O7Pvfz8AAAAAAACAP8jpbz8tq+A9AACAPwAAgD8EOG8/0bKKPgAAgD8AAAAABDhvP/3WRD8AAAAAAAAAAKlbaj/91kQ/AAAAAAAAgD9BVHo/RgGHPQAAgD8AAAAA289nP39rgjkAAAAAAACAP6lbaj/Rsoo+"),
"format": 34359742519,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAwAEAAUABgAHAAgAAgAJAAAACgALAAwADQAOAA8ABQAQAAMADAARAAoAEgATABQACAAVAAYADwAWAA0AFAAXABIA"),
"material": SubResource("StandardMaterial3D_k0juu"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AADIwQAAAL8AAMhBAADIwQAAAL8AAMjBAADIwQAAAD8AAMjBAADIQQAAAL8AAMjBAADIwQAAAL8AAMjBAADIwQAAAL8AAMhBAADIwQAAAD8AAMjBAADIwQAAAL8AAMjBAADIQQAAAL8AAMjBAADIwQAAAD8AAMhBAADIwQAAAL8AAMhBAADIwQAAAD8AAMhBAADIQQAAAD8AAMhBAADIQQAAAD8AAMhBAADIwQAAAD8AAMhBAADIwQAAAD8AAMjBAADIQQAAAL8AAMhBAADIQQAAAL8AAMhBAADIQQAAAL8AAMjBAADIQQAAAL8AAMhBAADIQQAAAD8AAMhBAADIQQAAAD8AAMjBAADIQQAAAD8AAMjBAADIQQAAAD8AAMjBAAAAgP9//n8AAACA/3/+fwAAAID/f/5/AIAAAP//AAAAgAAA//8AAACAAAD//wAA/////wAA/z//////AAD/P/////8AAP8/AAAAgP9//n//f/9/AAD/P/9//38AAP8//3//fwAA/z8AgP////8AAACA/////wAAAID/////AAAAgAAA//8AAP9//38AAP8///8AgP9//n///wCA/3/+f///AID/f/5//////wAA/z8AgP////8AAP//AID/f/5/")
}]

[sub_resource type="BoxShape3D" id="BoxShape3D_k0juu"]
size = Vector3(50, 1, 50)

[node name="TestLevel" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_x4b8f")]
wall_min_slide_angle = 0.523599
floor_constant_speed = true

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.847465, 0.401876, -0.346841, 1.06083e-08, 0.653368, 0.757041, 0.530851, -0.641566, 0.553706, 0, 0, 0)
light_bake_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0juu")

[node name="LightmapGI" type="LightmapGI" parent="."]
quality = 2
supersampling_factor = 4.0
bounces = 5
light_data = ExtResource("3_qcd3b")

[node name="Level" type="Node3D" parent="."]

[node name="Floor" type="StaticBody3D" parent="Level"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
mesh = SubResource("ArrayMesh_4wyf3")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_k0juu")

[node name="FloorCSG" type="CSGBox3D" parent="Level"]
process_mode = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
visible = false
calculate_tangents = false
size = Vector3(50, 1, 50)
material = SubResource("StandardMaterial3D_k0juu")
